<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Seu Relat√≥rio Financeiro</title>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        .report-block { border: 1px solid #ccc; padding: 1em; margin-bottom: 1em; }
        pre { background-color: #f4f4f4; padding: 1em; }
        h1, h2 { color: #333; }
    </style>
</head>
<body>
    <h1>üìà Relat√≥rio Financeiro</h1>

    <div class="report-block">
        <h2>Resumo Geral</h2>
        <p><strong>Receita Total:</strong> R$ {{ total_receitas }}</p>
        <p><strong>Despesa Total:</strong> R$ {{ total_despesas }}</p>
        <hr>
        <p><strong>Saldo L√≠quido:</strong> R$ {{ saldo_liquido }}</p>
    </div>

    <div class="report-block">
    <h2>Detalhamento de Despesas por Categoria</h2>
    <table>
        <tbody>
            {% for categoria, total in resumo_despesas.items %}
            <tr>
                <td>
                    <a href="{% url 'detalhe_categoria' nome_categoria=categoria %}">
                        {{ categoria }}
                    </a>
                </td>
                <td style="text-align: right;">R$ {{ total|floatformat:2 }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

    <div class="report-block">
    <h2>Transa√ß√µes N√£o Categorizadas</h2>
    <p>Considere criar novas regras para as transa√ß√µes abaixo:</p>

    {% if nao_categorizadas %}
        {{ nao_categorizadas|safe }}
    {% else %}
        <p>Parab√©ns! Todas as suas transa√ß√µes foram categorizadas.</p>
    {% endif %}
</div>

    <a href="/">Analisar Outro Extrato</a>
    <a href="{% url 'gerenciar_regras' %}">Gerenciar Minhas Regras</a>
</body>
</html>